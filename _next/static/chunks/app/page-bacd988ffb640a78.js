(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5579:function(e,t,n){Promise.resolve().then(n.bind(n,4137))},4137:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(3827),a=n(4090);function r(e){let{data:t}=e,n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e),a=(e,t)=>Math.round(e/t*100);return(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 w-full max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-zinc-100 rounded-2xl p-4 shadow-sm border border-amber-600",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-zinc-900 mb-4",children:"Statistics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:"Expenses"}),(0,s.jsx)("p",{className:"text-base font-medium text-zinc-900",children:n(t.spending)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:"Income"}),(0,s.jsx)("p",{className:"text-base font-medium text-zinc-900",children:n(t.income)})]})]})]}),(0,s.jsx)("div",{className:"bg-zinc-100 rounded-2xl p-4 shadow-sm border border-amber-600",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl font-bold text-zinc-900",children:"Balance"}),(0,s.jsx)("p",{className:"text-xl font-medium text-zinc-900 mt-2",children:n(t.balance)})]}),(0,s.jsx)("div",{className:"bg-white rounded-full p-2 border border-amber-600",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})}),t.savingsGoal&&(0,s.jsxs)("div",{className:"bg-zinc-100 rounded-2xl p-4 shadow-sm border border-amber-600",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("p",{className:"text-xl font-bold text-zinc-900",children:t.savingsGoal.name}),(0,s.jsxs)("span",{className:"text-xs text-zinc-500",children:[a(t.savingsGoal.current,t.savingsGoal.target),"% Complete"]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"w-full bg-zinc-200 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-amber-600 h-1.5 rounded-full",style:{width:"".concat(a(t.savingsGoal.current,t.savingsGoal.target),"%")}})}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-zinc-500 mt-2",children:[(0,s.jsx)("span",{children:n(t.savingsGoal.current)}),(0,s.jsx)("span",{children:n(t.savingsGoal.target)})]})]})]}),(0,s.jsxs)("div",{className:"col-span-3 bg-zinc-100 rounded-2xl p-4 shadow-sm border border-amber-600",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-zinc-900 mb-4",children:"Recent Transactions"}),(0,s.jsx)("div",{className:"space-y-4",children:t.recentTransactions.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-zinc-500",children:e.date})]}),(0,s.jsx)("p",{className:"text-sm font-medium text-zinc-900",children:n(e.amount)})]},t))})]})]})}function l(e){let{onClose:t,initialData:n}=e,[l,c]=(0,a.useState)(!!n),[i,d]=(0,a.useState)((null==n?void 0:n.currency)||"USD"),[o,m]=(0,a.useState)((null==n?void 0:n.savingsGoal)||{name:"",target:""}),[x,u]=(0,a.useState)(()=>(null==n?void 0:n.monthlyData)?n.monthlyData:{January:{income:"",spend:""},February:{income:"",spend:""},March:{income:"",spend:""},April:{income:"",spend:""},May:{income:"",spend:""},June:{income:"",spend:""},July:{income:"",spend:""},August:{income:"",spend:""},September:{income:"",spend:""},October:{income:"",spend:""},November:{income:"",spend:""},December:{income:"",spend:""}}),b=(e,t,n)=>{u(s=>({...s,[e]:{...s[e],[t]:n}}))},h=()=>({totalIncome:Object.values(x).reduce((e,t)=>e+(Number(t.income)||0),0),totalSpend:Object.values(x).reduce((e,t)=>e+(Number(t.spend)||0),0)}),p=()=>{let e=JSON.stringify({currency:i,savingsGoal:o,monthlyData:x},null,2),t=new Blob([e],{type:"application/json"}),n=document.createElement("a"),s=URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download","financial_data_2025.json"),document.body.appendChild(n),n.click(),document.body.removeChild(n);let a=["Month,Income,Spending",...Object.entries(x).map(e=>{let[t,n]=e;return"".concat(t,",").concat(n.income||"0",",").concat(n.spend||"0")}),"","Currency,".concat(i),"Savings Goal Name,".concat(o.name),"Savings Goal Target,".concat(o.target),"","Totals,".concat(h().totalIncome,",").concat(h().totalSpend)].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(r);l.setAttribute("href",c),l.setAttribute("download","financial_data_2025.csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l)},g=()=>{let e=[],t=Object.keys(x),n=new Date().getMonth();for(let s=0;s<3;s++){let a=t[n-s]||t[t.length-1-s],r=x[a];r.spend&&Number(r.spend)>0&&e.push({name:"Monthly Expenses - ".concat(a),amount:Number(r.spend),date:"".concat(a," 2025")})}return e};return(0,s.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/20 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-light text-zinc-900",children:"Enter Monthly Data for 2025"}),(0,s.jsx)("button",{onClick:t,className:"text-zinc-500 hover:text-zinc-700",children:"✕"})]}),l?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(r,{data:(()=>{let{totalIncome:e,totalSpend:t}=h(),n=e-t;return{income:e,spending:t,balance:n,currency:i,recentTransactions:g(),savingsGoal:o.name&&o.target?{current:n,target:Number(o.target),name:o.name}:void 0}})()}),(0,s.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,s.jsx)("button",{onClick:()=>c(!1),className:"px-6 py-2 rounded-lg bg-zinc-100 border border-amber-600 text-zinc-900 hover:bg-zinc-200",children:"Back to Data"}),(0,s.jsx)("button",{onClick:p,className:"px-6 py-2 rounded-lg bg-zinc-100 border border-amber-600 text-zinc-900 hover:bg-zinc-200",children:"Save Data"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-zinc-900 mb-2",children:"Select Currency"}),(0,s.jsx)("select",{value:i,onChange:e=>d(e.target.value),className:"w-full p-2 rounded bg-zinc-100 text-zinc-900 border border-amber-600",children:["USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY","INR"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-zinc-900 mb-2",children:"Savings Goal (Optional)"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Goal Name",value:o.name,onChange:e=>m(t=>({...t,name:e.target.value})),className:"p-2 rounded bg-zinc-100 text-zinc-900 border border-amber-600"}),(0,s.jsx)("input",{type:"number",placeholder:"Target Amount",value:o.target,onChange:e=>m(t=>({...t,target:e.target.value})),className:"p-2 rounded bg-zinc-100 text-zinc-900 border border-amber-600"})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-2 border-b text-zinc-900",children:"Month"}),(0,s.jsx)("th",{className:"text-left p-2 border-b text-zinc-900",children:"Income"}),(0,s.jsx)("th",{className:"text-left p-2 border-b text-zinc-900",children:"Spending"})]})}),(0,s.jsx)("tbody",{children:Object.entries(x).map(e=>{let[t,n]=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-2 border-b text-zinc-900",children:t}),(0,s.jsx)("td",{className:"p-2 border-b",children:(0,s.jsx)("input",{type:"number",value:n.income,onChange:e=>b(t,"income",e.target.value),className:"w-full p-2 rounded bg-zinc-100 text-zinc-900 border border-amber-600",placeholder:"0"})}),(0,s.jsx)("td",{className:"p-2 border-b",children:(0,s.jsx)("input",{type:"number",value:n.spend,onChange:e=>b(t,"spend",e.target.value),className:"w-full p-2 rounded bg-zinc-100 text-zinc-900 border border-amber-600",placeholder:"0"})})]},t)})})]})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,s.jsx)("button",{onClick:p,className:"px-6 py-2 rounded-lg bg-zinc-100 border border-amber-600 text-zinc-900 hover:bg-zinc-200",children:"Save Data"}),(0,s.jsx)("button",{onClick:()=>c(!0),className:"px-6 py-2 rounded-lg bg-zinc-100 border border-amber-600 text-zinc-900 hover:bg-zinc-200",children:"Visualise Data"})]})]})]})})}function c(){let[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(null),[r,c]=(0,a.useState)(null),i=e=>{let n=new FileReader;n.onload=e=>{var n;let s=null===(n=e.target)||void 0===n?void 0:n.result;try{let e=JSON.parse(s);c(e)}catch(r){let e=s.split("\n"),t={},n="USD",a={name:"",target:""};e.forEach(e=>{if(!e.trim())return;let[s,r,l]=e.split(",").map(e=>null==e?void 0:e.trim());"Currency"===s?n=r||"USD":"Savings Goal Name"===s?a.name=r||"":"Savings Goal Target"===s?a.target=r||"":s&&!s.startsWith("Month")&&!s.startsWith("Totals")&&r&&l&&(t[s]={income:r,spend:l})}),c({currency:n,savingsGoal:a,monthlyData:t})}t(!0)},n.readAsText(e)};return(0,a.useEffect)(()=>{let e=e=>{if((e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),t(!0)),(e.metaKey||e.ctrlKey)&&"i"===e.key){var s;e.preventDefault(),null===(s=n.current)||void 0===s||s.click()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col p-8 bg-gray-100",children:[(0,s.jsx)("input",{type:"file",ref:n,accept:".json,.csv",className:"hidden",onChange:e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&i(n)}}),(0,s.jsx)("div",{className:"w-full flex justify-end mb-8",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search",className:"px-4 py-2 rounded-lg border bg-white text-zinc-900 border-gray-200 placeholder-zinc-400"}),(0,s.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-zinc-900",children:"⌘/"})]})}),(0,s.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center gap-8",children:[(0,s.jsx)("h1",{className:"text-7xl font-light text-zinc-900",children:"Welcome"}),(0,s.jsx)("p",{className:"text-2xl text-zinc-900",children:"How would you like to visualise your data?"}),(0,s.jsxs)("div",{className:"flex gap-8 mt-8",children:[(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-white border border-gray-200 text-zinc-900 transition-colors hover:bg-gray-50",children:[(0,s.jsx)("span",{children:"Insert file"}),(0,s.jsx)("span",{className:"text-sm text-zinc-500",children:"⌘I"})]}),(0,s.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-white border border-gray-200 text-zinc-900 transition-colors hover:bg-gray-50",children:[(0,s.jsx)("span",{children:"Enter Data"}),(0,s.jsx)("span",{className:"text-sm text-zinc-500",children:"⌘K"})]})]})]}),e&&(0,s.jsx)(l,{onClose:()=>{t(!1),c(null)},initialData:r})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=5579)}),_N_E=e.O()}]);